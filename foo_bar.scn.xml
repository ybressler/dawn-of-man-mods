<?xml version="1.0" encoding="utf-8"?>
<scenario>

	<!-- If you want to have multiple scenarios with this mod (they be grouped up in the screen) -->
	<group_id value="foo_bar"/>

	<!-- Options are "Freeplay / Challenge" -->
	<category value="Freeplay"/>
	<hardcore_mode_allowed value="true"/>
	<!-- Size means the size of the world (default=4)-->
	<size value="3"/>

	<starting_conditions season_id="Spring"/>

	<!--  # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # -->

	<locations>

		<!--
			Map location is the pointer on the menu. Location is the location on the actual map

			Note: Create 2 diff maps:
				1) North, make it cold but filled with resources, also, fewer rivers?
					1A) North river
					1B) North lake
				2) South, make warm, but filled with dangerous animals and less resources...

		-->
		<location id="twisty_river" seed="3165798" location="700.0, 800.0" environment="newNorth" map_location="0.325,0.30" lakes="7" river="true"/>
		<location id="river_fork" seed="9548457" environment="newNorth" map_location="0.475,0.45" lakes="7" river="true"/>

		<!-- Unsure -->
		<location id="north_river" seed="6789834" environment="newNorth" map_location="0.9,0.2" lakes="7" river="false"/>

	</locations>

<!--  # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # -->
	<!--
		A haiku:
		"These are kind of boring.
		There are some fancy lights.
		You can't do any work.
		And it makes your people sad.
			That's it."

		@Schwifty

	-->

	<disasters>
		<disaster disaster_type="Storm" period="10.0y" variance="1.25y"/>
		<disaster disaster_type="Blizzard" period="2.0y" variance="1y"/>
	</disasters>

	<milestones>

		<!-- Population milestones. -->
		<milestone id="POPULATION_50">
			<condition type="ValueReached" id="Population" value="50"/>
		</milestone>

		<milestone id="POPULATION_100">
			<condition type="ValueReached" id="Population" value="100"/>
		</milestone>



		<milestone id="MILESTONE1">
			<!--Condition "And" needs ALL sub_conditions to be reached: 100 Prestige & 1 Stone Circle
 			<condition type="And">
				<sub_conditions>
					<condition type="ValueReached" id="Prestige" value="100"/>
					<condition type="EntityCountReached" counter="BuiltStructures" entity_type="stone_circle" value="1"/>
				</sub_conditions>
			</condition>
			-->

			<!--Condition "Or" needs ONE sub_condition to be reached: 100 Prestige OR 1 Stone Circle
 			<condition type="Or">
				<sub_conditions>
					<condition type="ValueReached" id="Prestige" value="100"/>
					<condition type="EntityCountReached" counter="BuiltStructures" entity_type="stone_circle" value="1"/>
				</sub_conditions>
			</condition>
			-->
			<!-- If you only need 1 condition there is no need for And / Or, but I think only 1 sub_condition works technically.
			<condition type="ValueReached" id="Prestige" value="100"/>
			-->
			<condition type="ValueReached" id="Prestige" value="100"/>
			<!-- <condition type="And">
				<sub_conditions>
					<condition type="ValueReached" id="Prestige" value="100"/>
					<condition type="EntityCountReached" counter="BuiltStructures" entity_type="stone_circle" value="1"/>
					<condition type="EntityCountReached" counter="BuiltStructures" entity_type="dolmen" value="4"/>
					<condition type="EntityCountReached" counter="BuiltStructures" entity_type="menhir" value="8"/>
					<condition type="EntityCountReached" counter="BuiltStructures" entity_type="totem" value="16"/>
				</sub_conditions>
			</condition> -->
		</milestone>



		<milestone id="MILESTONE2">
			<condition type="EntityCountReached" counter="KilledRaiders" value="50"/>
		</milestone>

		<milestone id="MILESTONE3">
			<condition type="EntityCountReached" counter="KilledRaiders" value="250"/>
		</milestone>

		<milestone id="MILESTONE4">
			<condition type="EntityCountReached" counter="KilledRaiders" value="500"/>
		</milestone>

		<milestone id="MILESTONE5">
			<condition type="EntityCountReached" counter="KilledRaiders" value="1000"/>
		</milestone>

		<milestone id="MILESTONE6">
			<condition type="ValueReached" id="Population" value="150"/>
		</milestone>
		<milestone id="MILESTONE7">
			<condition type="ValueReached" id="Population" value="300"/>
		</milestone>
		<milestone id="MILESTONE8">
			<condition type="ValueReached" id="Population" value="450"/>
		</milestone>
	</milestones>

	<events>

		<!-- This gets run once, when the game is first started -->
		<event>
			<condition type="NewGame"/>
			<actions>
				<!-- Clear trees around start location -->
				<action type="ClearTrees" radius="20"/>

				<!-- Spawn initial entities -->
				<action type="Spawn" entity_type="hearth" amount="1" placement="StartLocationCircular" radius="0" />
				<action type="Spawn" entity_type="crafter" amount="1" placement="StartLocationCircular" angle="180" radius="6"/>
				<action type="Spawn" entity_type="storage_tent" amount="1" placement="StartLocationCircular" angle="90" radius="5"/>
				<action type="Spawn" entity_type="storage_tent" amount="1" placement="StartLocationCircular" angle="270" radius="5"/>
				<!-- <action type="Spawn" entity_type="tent" amount="9" placement="StartLocationCircular" angle="110" radius="20" /> -->
				<!-- <action type="Spawn" entity_type="wood_pile" amount="1" placement="StartLocationCircular" angle="180" radius="6"/> -->

				<action type="Spawn" entity_type="sticks" amount="20" placement="Storage"/>
				<action type="Spawn" entity_type="flint" amount="5" placement="Storage"/>
				<action type="Spawn" entity_type="log" amount="10" placement="Storage"/>
				<action type="Spawn" entity_type="stone" amount="1" placement="Storage"/>

				<action type="Spawn" entity_type="flint_sickle" amount="1" placement="Storage"/>
				<action type="Spawn" entity_type="flint_axe" amount="1" placement="Storage"/>
				<action type="Spawn" entity_type="flint_pick" amount="1" placement="Storage"/>





				<action type="Spawn" entity_type="primitive_human" amount="10" placement="StartLocationCircular" angle="35" radius="5" age="Adult" gender="Male"/>
				<action type="Spawn" entity_type="primitive_human" amount="9" placement="StartLocationCircular" angle="35" radius="3" age="Adult" gender="Female"/>
				<action type="Spawn" entity_type="primitive_human" amount="5" placement="StartLocationCircular" angle="35" radius="3" age="Young" gender="Male"/>
				<action type="Spawn" entity_type="primitive_human" amount="5" placement="StartLocationCircular" angle="35" radius="3" age="Young" gender="Female"/>
				<action type="Spawn" entity_type="primitive_human" amount="1" placement="StartLocationCircular" angle="35" radius="3" years_old="20" gender="Male" name="Uhlog" behaviour="NoTasks,NoOutfitChange"/>

				<action type="Spawn" entity_type="skins_outfit" amount="1" placement="Uhlog"/>
				<action type="Spawn" entity_type="skins_outfit" amount="19" placement="Human"/>

				<action type="Spawn" entity_type="nuts" amount="3" placement="Storage"/>
				<action type="Spawn" entity_type="raw_fish" amount="1" placement="Storage"/>
				<action type="Spawn" entity_type="raw_meat" amount="1" placement="Storage"/>
				<action type="Spawn" entity_type="raw_skin" amount="1" placement="Storage"/>

			</actions>
		</event>

		<!-- This gets run every time the game is started or loaded, to allow for easy iteration -->
		<event flags="MultipleExecutions">
			<condition type="InitGame"/>
			<actions>
				<!-- Set animal populations, these will get spawned automatically -->
				<action type="SetAnimalPopulation" animal_types="vulture dove eagle" min="7" max="12"/>
				<!--
					fast dots on my screen
					would really appreciate
					no bird to be seen
				-->

				<!-- Create dangerous animals -->
				<action type="SetAnimalPopulation" animal_types="wolf" min="40" max="55"  era_factors ="0.33 0.45 0.65 1 1 1"/>
				<action type="SetAnimalPopulation" animal_types="cave_lion" min="15" max="25" era_factors ="1 0.75 0.5 0.25 0.2 0.1"/>
				<action type="SetAnimalPopulation" animal_types="cave_lion" min="15" max="30"  era_factors ="1 1 1 0.75 0.75 0.5"/>
				<action type="SetAnimalPopulation" animal_types="cave_hyena" min="30" max="30" era_factors ="1 0.75 0.75 0.6 0.6 0.3"/>

				<!-- Create predators -->
				<action type="SetAnimalPopulation" animal_types="bear" min="10" max="20" era_factors ="0.0 0.25 0.5 0.75 1 1"/>
				<action type="SetAnimalPopulation" animal_types="cave_bear" min="10" max="20" era_factors ="1 0.75 0.5 0.25 0.2 0.1"/>

				<!-- Domesticatable animals -->
				<action type="SetAnimalPopulation" animal_types="ibex mouflon boar" min="22" max="28"/>
				<action type="SetAnimalPopulation" animal_types="wild_horse" min="22" max="27" era_factors ="0.1 0.5 0.75 1 0.75 0.25"/>
				<action type="SetAnimalPopulation" animal_types="feral_horse wild_donkey aurochs" min="22" max="27" era_factors ="0 0.25 0.5 0.75 1 1"/>

				<!-- All the other animals -->
				<action type="SetAnimalPopulation" animal_type="deer" min="15" max="40" era_factors ="0 0 0.25 1 1 1"/>
				<action type="SetAnimalPopulation" animal_type="reindeer" min="25" max="40" era_factors ="1 0.75 0.5 0.25 0.2 0.2"/>
				<action type="SetAnimalPopulation" animal_type="ancient_bison" min="20" max="25" era_factors ="1 0.75 0.5 0.25 0.2 0.2"/>
				<action type="SetAnimalPopulation" animal_type="bison" min="20" max="50" era_factors ="0 0.25 0.5 0.75 1 1"/>
				<action type="SetAnimalPopulation" animal_type="muskox" min="25" max="30" era_factors ="0.5 0.75 1 1 0.75 0.75"/>


				<!-- Set big animals -->
				<action type="SetAnimalPopulation" animal_type="megaloceros" min="15" max="30" era_factors ="1 0.75 0.5 0.25 0.2 0.2"/>
				<action type="SetAnimalPopulation" animal_type="mammoth" min="10" max="25" era_factors ="1 0.75 0.5 0.25 0.2 0.2"/>
				<action type="SetAnimalPopulation" animal_type="woolly_rhinoceros" min="10" max="25" era_factors ="1 0.5 0.25 0.2 0.2 0.2"/>
				<action type="SetAnimalPopulation" animal_type="elasmotherium" min="15" max="20" era_factors ="1 1 1 0.75 0.5 0.5"/>


				<!-- Set raider parameters -->
				<!--
					Look at everwinter:
						– release to Schwifty's new mod.
						– Wastelands.
				 -->
				<!-- I remember extra_raider_per_population to only work for primitive_human, if that is still valid it should become clear during test in Meso with 100 people -->
				<action type="SetRaider" era="Mesolithic" hardcore_timer="0y" entity_types="cave_lion" min="3" max="6" grace_period="0.25y" period="1.0y" variance="0.5y"/>
				<action type="SetRaider" era="Mesolithic" hardcore_timer="0y" entity_types="cave_hyena" min="3" max="9" grace_period="0.25y" period="1.0y" variance="0.5y"/>
				<action type="SetRaider" era="Mesolithic" hardcore_timer="0y" entity_types="primitive_human" min="4" max="10" grace_period="0.25y" period="1.25y" variance="0.5y" extra_raider_per_population="8"/>

				<action type="SetRaider" era="Neolithic" hardcore_timer="1.15y" entity_types="cave_hyena" min="5" max="10" grace_period="0.25y" period="1.0y" variance="0.5y"/>
				<action type="SetRaider" era="Neolithic" hardcore_timer="1.15y" entity_types="primitive_human" min="15" max="30" grace_period="0.55y" period="1.25y" variance="0.5y" extra_raider_per_population="7"/>

				<action type="SetRaider" era="CopperAge" hardcore_timer="4y" entity_types="bear" min="2" max="6" grace_period="0.25y" period="1.0y" variance="0.5y"/>
				<action type="SetRaider" era="CopperAge" hardcore_timer="4" entity_types="primitive_human" min="25" max="50" grace_period="0.50y" period="1.15y" variance="0.5y" extra_raider_per_population="6"/>

				<action type="SetRaider" era="BronzeAge" hardcore_timer="10y" entity_types="wolf" min="1" max="7" grace_period="0.25y" period="1.2y" variance="0.65y"/>
				<action type="SetRaider" era="BronzeAge" hardcore_timer="10y" entity_types="bear" min="2" max="6" grace_period="0.15y" period="1.1y" variance="0.75y"/>
				<action type="SetRaider" era="BronzeAge" hardcore_timer="10y" entity_types="primitive_human" min="40" max="75" grace_period="0.40y" period="1.5y" variance="0.75y" extra_raider_per_population="5"/>

				<action type="SetRaider" era="IronAge" hardcore_timer="20y" entity_types="primitive_human" min="60" max="100" grace_period="0.40y" period="1.0y" variance="1.0y" extra_raider_per_population="4"/>


				<!-- Features -->
				<action type="SetFeatureEnabled" feature="Hints" value="false"/>
				<action type="SetFeatureEnabled" feature="Warnings" value="false"/>
				<!-- Pre CopperAge warning about Fortifications-->
				<action type="SetFeatureEnabled" feature="TechConfirmMessages" value="false"/>
				<action type="SetFeatureEnabled" feature="TameableAnimalSpawn" value="true"/>

				<!-- Parameters -->
				<action type="SetKnowledgeParameters" tech_cost_multiplier="1.05"/>
				<action type="SetMigrationParameters" min="1" max="5" period="0.75y" decrease_start_population="300" decrease_halfing_population="250"/>
				<action type="SetBirthParameters" decrease_start_population="300" decrease_halfing_population="250"/>
				<action type="SetTraderPeriod" value="1.15y"/>
				<action type="SetDiseaseParameters" period="5y" variance="3y" individual_disease_chance="0.75"/>

				<!-- Start off with some knowledge -->
				<action type="Unlock" tech_era="Mesolithic"/>


			</actions>
		</event>

		<!-- Here is the spot to insert your own Events -->


		<!-- Funny Stuff like the change of seasons during harvest in everwinter

		Or free beer during Testplay:
		Infinite free beer, MultipleExecutions triggers the event multiple times instead once per game -->
		<!-- <event flags="MultipleExecutions">
			<condition type="Not">
				<sub_condition value="20" type="EntityCountReached" entity_type="beer"/>
			</condition>
			<actions>
				<action type="SetTimeOfYear" value="0.5099"/>
				<action type="Spawn" entity_type="beer" amount="1" placement="StartLocationCircular" angle="5" radius="15"/>
			</actions>
		</event> -->

		<!-- Speedup whenever GameSpeed is not x8, reliable during auto-tests and a funny way to torment a player (never used it).
		In conjunction with raids this would set the time a player has to ring the alarm to a very short period (maybe pause on normal can save a few milliseconds).
		Or Imagine it with GameSpeed=1: Force the player to play only on x1 (Every Speedup will be reset immediately)
		Besides this is a good example for condition [Not GameSpeed" value="8"] instead of [Or (GameSpeed" value="8"|GameSpeed" value="4"|GameSpeed" value="2")]. -->
		<!-- <event flags="MultipleExecutions">
			<condition type="Not">
				<sub_condition type="ValueEquals" id="GameSpeed" value="8"/>
			</condition>
			<actions>
				<action type="SetTimeScale" value="8"/>
			</actions>
		</event> -->



	</events>
</scenario>
